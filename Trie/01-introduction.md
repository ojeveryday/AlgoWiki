# Trie 算法

作者：liuhaotian；审核：

## Trie 简介

Trie 树，又称字典树、前缀树，是一种实现字符串快速检索的多叉树结构。典型应用是统计、排序和保存大量的字符串（但不仅限于字符串），所以经常被搜索引擎系统用于文本词频统计，也被用于编译器的代码自动补全功能。 

## Trie 题型

1、串的快速检索

给出 $N$ 个单词组成的熟词表，以及一篇全用小写英文书写的文章，请你按最早出现的顺序写出所有不在熟词表中的生词。

在这道题中，我们可以用数组枚举，用哈希，但是用字典树，先把熟词建一棵树，然后读入文章进行比较，这种方法效率是比较高的。

2、串排序

给定 $N$ 个互不相同的仅由一个单词构成的英文名，让你将他们按字典序从小到大输出。

用字典树进行排序，采用数组的方式创建字典树，这棵树的每个结点的所有儿子很显然地按照其字母大小排序。对这棵树进行先序遍历即可。

3、最长公共前缀

对所有串建立字典树，对于两个串的最长公共前缀的长度即他们所在的结点的公共祖先个数，于是，问题就转化为当时公共祖先问题。

## 时间与空间复杂度

我们知道，字符串有很多都有相同的前缀，对于相同的前缀，Trie 树只存储一次，虽然也耗费很大空间，但在某些情况下，Trie 树更省空间。

Trie 树利用字符串的公共前缀来减少查询时间，最大限度地减少无谓的字符串比较。在 Trie 树中查找字符串的时间复杂度只与树的深度有关，与有多少个字符串无关，而树的深度只跟字符串的长度有关，例如当用 Trie 树来存储单词时，因为超过 30 个拉丁字母的英文单词微乎其微，所以在某些问题中查找字符串的时间复杂度只有 $O(1)$ 。

## Trie 的两个模板

+ 模板一：用数组模拟 Trie ；
+ 模板二：用链表模拟 Trie ；

二者原理相同，本文在数组模拟 Trie 的文章中给出推理过程与模板，在链表模拟 Trie 的文章中直接给出模板（因为原理与数组模拟 Trie 相同），算法竞赛时用数组模拟 Trie 的情况较多，面试找工作中用链表模拟 Trie 的情况较多。

## 学习建议

Trie 一共有三种基本操作：插入、查询、删除，由于删除很少见，所以这里只给出了插入和查询的模板，写成模板只是为了方便大家学习，但是学习算法更重要的是掌握思想，大家一定要手动敲 $+∞$ 遍模板，烂熟于胸以后，其他的基础操作（例如查询前缀）都是手到擒来罢了。熟悉以后，这些模板都无需且不应该记忆，编码应该是十分自然的事情。
