# 背向双指针

一般我们很少会考这个题目。不过我们拿一道例题来说明一下这个怎么做，会在很多题目中用到。

在一个排序数组中找到k个最接近target的题目【二分和双指针的应用】

#### [658. 找到 K 个最接近的元素](https://leetcode-cn.com/problems/find-k-closest-elements/)

```python
class Solution:
    def findClosestElements(self, arr: List[int], k: int, x: int) -> List[int]:
        if len(arr) < k:
            return None 
        if len(arr) == k:
            return arr 

        first_big_than_x = self.find_x(arr, x)

        right = first_big_than_x
        left = right - 1 
        l_res = []
        r_res = []
        for _ in range(k):
            if left < 0:
                r_res.append(arr[right])
                right += 1 
            elif right >= len(arr):
                l_res.append(arr[left])
                left -= 1 
            elif self.is_left(arr, left, right, x):
                l_res.append(arr[left])
                left -= 1 
            else:
                r_res.append(arr[right])
                right += 1 
        return l_res[::-1] + r_res


    def is_left(self, arr, left, right, x):
        if abs(arr[left] - x) > abs(arr[right] - x):
            return False 
        return True 

    def find_x(self, arr, x):
        left = 0 
        right = len(arr) - 1
        while left + 1 < right:
            mid = (left + right) // 2
            if arr[mid] == x:
                return mid 
            elif arr[mid] > x:
                right = mid 
            else:
                left = mid 
        
        if arr[left] > x:
            return left 
        if arr[right] > x:
            return right
        return len(arr)
```

